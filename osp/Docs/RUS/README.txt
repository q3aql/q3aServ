OSP Tourney DM/CA/CTF for Quake3
================================
Версия: 1.01
Дата:    18 Декабря 2001
Сайт:    http://www.OrangeSmoothie.org
Адрес:  rhea@OrangeSmoothie.org

--------
Народ:
--------
Дизайн / программирование:
	Jason "Rhea" Keimig (rhea@OrangeSmoothie.org)

Дополнительное программирование:
	Kevin "arQon" Blenkinsopp (arqon@promode.org)
	Sander "Dessignator" Brandenburg (dessignator@OrangeSmoothie.org)
	Harvey "]R[Papa" Morris (papa@reactivesoftware.com)
	Jens "Khaile" Bergensten (khaile@www.com)
	Michael "PhaNToM" Billing (phantom@promode.org)
	и другие люди из CPM

Подборка и все, что касается карт в OSP 1.0:
	Christian "SHoD" Farcy (shod@noos.fr)

Дизайнеры карт:
	Christian "SHoD" Farcy - ospdm1/2/3 - (shod@noos.fr)
	Nicolas "Nunuk" Bouvier - ospdm2 - (nunuk@planetquake.com)
	Benoit "Bal" Stordeur - ospdm3 - (Bal@planetquake.com)
	Todd "Mr.CleaN" Rose - ospdm4 - (mrclean@planetquake.com)
	Scotty "Teddy" Drader - ospdm5 - (sdrader@home.com)
	Agust "DruZli" Atlason - ospdm6 - (drusla@simnet.is)
	Jerry "clem" Dent - ospdm7 - (jed@verio.net)
	German "JaLisK0" Garcia - ospdm8 - (JaLisk0@terra.es)
	"Charon" - ospdm9 - (charon@atlantacon.org)
	Paul "Polo" de Rosanbo - ospdm10 - (polo2ro@fragdome.com)
	Roeland "Geit" Scheepens - ospdm11 - (ouwegeit@goat.gamepoint.net)
	Jeremy "random" Eaton - ospdm12 - (jeremy.eaton@telus.net)
	David "SgtGhost" Levesque - ospca1 - (sgtghost@hotmail.com)
	Rich "Publius" Tollerton - ospctf1 - (rtollert@tranquility.net)
	Daniel "Drunken Boxer" Lanicek - ospctf2 - (dlanicek@yahoo.com)

VoodooStats:
	"myrddin" (myrdd1n@hotmail.com)

Утилита создания серверных конфигов OSP:
	Greg "phred" Price (greg@price.org)

Инсталлятор:
	Tim "Gouki" Pearson (gouki@clanavl.com)

Новый веб-сайт OSP:
	"myrddin" (myrdd1n@hotmail.com)
	Tim "Gouki" Pearson (gouki@clanavl.com)

*** Данный билд OSP поддерживает только Quake3 версии 1.30 и выше!

Немного общих слов. Модификация OSP Tourney DM  (далее OSP)
НЕ изменяет физику Quake3 и предназначена для простого и 
удобного проведения матчей.

Начиная с версии 0.99c и выше, в OSP встроен Challenge Pro Mode
(http://www.promode.org/). В CPM сделаны осторожные изменения
некоторых фундаментальных аспектов Q3, которые предполагают
более динамичную и насыщенную игру. Советую попробовать!
(Для более полного ознакомления почитайте CPM-changes.txt
в директории Docs/).

Замечания по переводу шлите по адресу: olzah@quakeshit.com

============
Введение:
============
Распакуйте / инсталлируйте zip / .exe osp-quake3-<номер_версии>
с сохранением структуры папок в корень Quake3. У вас
должна появиться новая директория "osp", содержащая
все файлы, перечисленные в INSTALL.txt.

Чтобы запустить ВЫДЕЛЕННЫЙ (DEDICATED) OSP сервер:
------------------------------------------------------------------------
** УДАЛИТЕ zz-osp-server0.pk3 из директории OSP! **

(Сервер для малого количества пользователей)
quake3 +set dedicated 2 +set bot_enable 0 +set fs_game osp +exec <имя-cfg-файла>.cfg

(Сервер для большого количества пользователей)
quake3 +set dedicated 2 +set bot_enable 0 +set fs_game osp +exec <имя-cfg-файла>.cfg

----> При апгрейде предыдущих версий OSP:
      Удалите ВСЕ старые z-osp-cgameXXX/extra/players.pk3 файлы из директории osp/
      на сервере. Выделенные сервера должны иметь только 
      файл zz-osp-pakXXX.pk3 в osp/ для того, чтобы избавить
      клиентов от лишних .pk3 загрузок и прочих неприятностей
      (особенно под Linux/BSD серверами).


Чтобы запустить МЕСТНЫЙ (LISTEN) OSP сервер
(когда клиент одновременно является и сервером):
-----------------------------------------------------------------
quake3 +set fs_game osp +set bot_enable 1 +exec <имя-cfg-файла>.cfg


**
**         LINUX/BSD админы: замените "quake3" на "q3ded" в предыдущих примерах.
**         Обязательно прибавьте +set fs_basepath <корневой_директорий_Quake3>
**         к параметрам запуска, дабы обеспечить правильность скачивания
**         с сервера файлов. И, на всякий пожарный, добавьте еще +set vm_game "2".
**


========================
Некоторые возможности OSP
========================
- Расширенные возможности проведения игр.
- Дополнительный режим: "Clan Arena", который похож на
  широко распространенную модификацию RocketArena.
- "Challenge Pro Mode" (CPM) - изменения в физике и самой игре,
  делающие состязания более динамичными. Этот режим
  доступен для всех типов игр.
- Широкие возможности по настройке клиентского HUD, аутентификации 
  клиента, автоматической записи демок и образов экрана (screenshot).
- 15 новых карт для различных типов игр.
- "Voodoo stats" обработчик логов клиента/сервера.
- Утилита создания серверных конфигов.
- Возможность слежения (включая звуки) за несколькими
  игроками (multi-view) в одно и то же время!
- Дополнительный режим наблюдения: "ViewCam". Он позволяет
  следить за игрой на манер кинокамеры, что по идее должно лучше
  передавать атмосферу действа.
- Подробные, различные для разных режимов игры
  (FFA, 1v1, Team DM, CTF и ClanArena) статистики матча и по игрокам.
- Определяемые сервером "нашлепки" ("decals") - небольшие
  картинки на поверхностях карты. Может быть использовано
  до 32 "нашлепок", включая 16 собственных.
- Множество дополнений из отличной модификации Q3Comp.
- Возможность для наблюдателей становится "тренерами" ("сoach")
  команд - видеть и писАть командные сообщения,
  смотреть из глаз всех игроков...
- Гибкий механизм "фильтрования", позволяющий администраторам
  ограничивать игрокам доступ на сервер в зависимости от их имени,
  IP адреса, а также по паролю.
- Улучшенная и настраиваемая система голосования.
- Надежная технология динамической генерации списка карт вместе с
  возможностью ротации, когда происходит изменение серверных
  настроек при загрузке очередной карты.
- Выводимая в любой момент игры таблица со статистикой
  на определенного игрока.
- Возможность голосования по поводу режима игры.
- Широкие возможности удаленного администрирования.
- Возможность присваивания игрокам полномочия капитанов команд.
- Поддержка различных цветов для головы, туловища и
  ног модели. Для каждой части доступно по 10 цветов.
- Возможность для каждой из команд "закрыть" (!) ее
  от наблюдателей.
- Возможность наблюдателям следить только за красной,
  либо только за синей командой.
- Статистические серверные переменные, доступные для
  публичного просмотра. Например, текущее состояние дел
  на сервере может быть распознано утилитами типа GameSpy.
- Настраиваемые опции овертайма.
- Настраиваемые тайм-ауты и паузы.
- Полностью настраиваемый крюк.
- Опции по контролю за появлением предметов/рулезов (item/powerup).
  (Не зависят от карты).
- Широкие возможности по замене одних предметов другими.
  (Не зависят от карты).
- Встроенный, не требующий никаких конфигов режим instagib -
  только рельса, убивающая с первого раза, кулак и море удовольствия.
- Дополнительный "skunk" режим игры для дуэлей. Переделка
  дуэльного типа игры в RocketArena.
- Сервер позволяет играть командные режимы игры
  на карте q3tourney3.
- Настраиваемая серверная поддержка
  сообщений (MOTD) клиентам.
- Настраиваемая серверная поддержка специальной графики
  для показа клиентам.
- Устанавливаемая возможность сброса предметов для TDM/CTF.
- Устанавливаемая возможность выбора системы защиты
  брони, как в Q2.
- Настраиваемое клиентом "поведение" луча шафта.
  Особенно полезно при игре с большим лагом.
- Возможность установки типа и количества первоначального
  оружия/боеприпасов у игрока.
- Дополнительная подробная запись лог-файлов.
- Много исправлений в самом коде игры.
- Множество мелких исправлений, которые и не упомнишь.


======================
Дополнительная информация
======================
1. Изучите содержимое директории Docs/ для получения
    истории развития (osp-q3-History.txt) и всех новых
    серверных переменных, описанных в osp-q3-Variables.txt.
    Список всех команд вы можете найти в osp-q3-Commands.txt.
    Важная информация содержится и в файле osp-q3-ClientReadme.txt.

2. В архив в качестве примера включены различные серверные
    конфиги для изучения и упрощения создания своих собственных.
    Просто возьмите наиболее подходящий вашим запросам и
    измените его так, как надо вам в соответствии со спецификой
    создаваемого сервера.

3. Для получения списка доступных клиенту команд наберите в
     консоли после соединения с OSP-сервером:

	\help

4. Для получения списка доступных судье (referee) команд
    наберите в консоли после получения статуса судьи:

	\ref или \r_help

5. Для получения списка доступных для голосования (callvote) команд 
    просто наберите в консоли после соединения с OSP-сервером:

	\callvote ?

6. В дальнейшем для определения текущих установок сервера и
    описания команд для голосования наберите:

	\callvote <имя_предмета_для_голосования> ?

    Сервер выдаст вам формат команды для голосования, описание
    того, на что влияет данная команда и ее текущее состояние (если
    доступно). Например, для определения текущих настроек
    по Quad Damage наберите:

	\callvote quad ?

    В консоли появятся строки:

	Usage: \callvote quad <0|1>
                Enables/disables Quad Damage powerup availability

                Quad Damage is currently ENABLED

   Легко и просто, правда? =)


==================================
Некоторые полезные клиентские установки
==================================
Хотя использовать OSP Tourney DM/CA/CTF можно и как полностью
серверную модификацию, но привлекая ее клиентские возможности
вы можете получить гораздо больше вариантов настроек (подробнее
смотрите в osp-q3-ClientReadme.txt). Тем не менее, даже при игре на
полностью серверной модификации клиенты могут использовать
некоторые переменные:

	set cg_predictItems 0

Позволит избежать иногда произвольных манипуляций с предметами
и звуками при взятии оных, которые могут возникнуть во время
разминки (особенно в CTF).

Использование крюка (hook):
------------------------------------
Если на сервере разрешено использование крюка, то присвойте:

	bind крюк_клавиша +button5

Теперь при нажатии и удерживании крюк_клавиши
(например, mouse3 - третья кнопка мыши), выстрелится крюк,
зацепится за изгибы местности и вас потащит к месту крепления,
к которому вы и останетесь притянутым до тех пор, пока не
отпустите крюк_клавишу.

Выброс предметов:
-----------------------
Если это разрешено на сервере, игроки могут сбрасывать оружие/боеприпасы
в TDM или CTF играх. Команда выглядит следующим образом:

	\drop <имя_предмета>

где <имя_предмета> может быть:

	sg	(Shotgun - обрез)
	gl	(Grenade Launcher - гранатомет/банкомет)
	rl	(Rocket Launcher - ракетомет/эрэль)
	lg	(Lightning Gun - шафт)
	rg	(Railgun - рельса)
	pg	(Plasma Gun - плазмаган)
	bullets	(кол-во: 50 - патроны к мошне)
	shells	(кол-во: 10 - патроны к обрезу)
	grenades	(кол-во: 5 - гранаты)
	rockets	(кол-во: 5 - ракеты)
	lightning	(кол-во: 50 - батарейки)
	slugs	(кол-во: 10 - болванки)
	cells	(кол-во: 50 - плазма)

В играх CTF можно выбрасывать флаг:

	\drop flag

При проблемах с соединением или с нехваткой памяти под графику:
--------------------------------------------------------------------------------------
Попробуйте установить com_hunkmegs в "56" или "64" в
q3config.cfg, autoexec.cfg или в вашем конфиге. Или явно
указать +set com_hunkmegs "56" в параметрах запуска.

Использование камеры наблюдения (viewcam):
-----------------------------------------------------------
Есть несколько способов использования. Для включения:

	- напишите в консоли: \viewcam
	- для присоединения: \team vc
	- теперь можно переключаться с камеры на камеру 

В этом режиме показывается наиболее оживленный в плане
боя участок карты. Для ручного переключения на камеры в
других местах наберите (эта команда включает/выключает
автоматический режим позиционирования):

	\vc_free

Вы можете следить за отдельным игроком с помощью команды (используя
клавиши прыжок/приседание можно переключаться между игроками):

	\vc_follow [номер_игрока|имя_игрока]

Позиции камер наблюдения определяются в специальном конфигурационном
файле, который создается для каждой карты. Если для текущей карты
соответствующий файл не найден, то камеры будут отключены.

Создание новых файлов позиций для камер довольно легко и в некотором
смысле весело =) Все инструкции, что вам потребуются (плюс дополнительные
команды), содержатся в файле Docs/Viewcam-info.txt.

Если вы сделали файл позиций камер наблюдения для какой-либо карты, 
и он не включен в поставку OSP, то, пожалуйста, вышлите его мне и я 
включу его в состав дистрибутива следующей версии. Естественно,
с упоминанием вашего имени.


================
Благодарности и прочее
================
Огромное спасибо a|citizen и a|wiseguy (короче, всему клану "abuse")
за помощь в приведении всего в должный вид. Адрес клана в сети:
http://www.teamabuse.com/

Спасибо Khaile, Hoony, и всей команде CPM за предоставление
исходников и информации, благодаря которым CPM интегрирован в OSP.
Официальную документацию по CPM (Challenge ProMode) вы можете найти
по адресу: http://www.promode.org

Хочу выразить признательность многим другим людям, которые 
помогали продвигать OSP в правильном направлении: Godsmurf, Talita,
FiTH-arcane, TrEEcH, Gouki, Olzah и Smegma. Их так много!
Простите, если не упомянул кого!

И tubesock с Gouki.. Парни, большое спасибо за тестирование, отладку и
за педантизм. Я очень признателен вам.

Отдельное спасибо ]R[Papa (http://www.reactivesoftware.com)
и Strider за сотрудничество в решении проблем
со звуками и обработкой событий.

"СПАСИБО, МУЖИК!" говорю arQon, создателю CPMA.
Спасибо за помощь в сумрачные годы 0.99x версий OSP ;-)

Глубокий поклон Strider (Alan Kivlin - akivlin@lineone.net) за работу 
над кодом 125Hz, а так же за пару очень важных замечаний по
поводу multi-view (например отличная идея по поводу CTF, которую
я еще не реализовал).

Признателен Jim Luther (dv8|fia) и [AVL]Hifi за помощь в отслеживании
различных проблем с OSP на Macintosh.  Ах, эти злобные Маки.... ;-)

Жму руку Heeler за подсказки по поводу targa-формата.  Adobe решает!

Я благодарен team evolution (http://evolution.clanpages.com)
за конфиг для наблюдателя (spectator), в котором задействованы 
многие новые возможности мульти-наблюдения (multi-view spectating).

Спасибо создателям viewcam-файлов:

      [AVL]Gouki  - q3ctf3, q3ctf4, q3wctf1-3 и japanctf
      jab              - q3ctf1, q3ctf2
      Olzah          - ztn3dm1
      Rune           - q3tourney2
      SoloRail       - q3dm1-4 и q3dm8-12
      TrEEcH        - q3dm13, q3dm17 и q3jdm8a
      VK-Hunter   - q3dm14-16, 19, q3tourney1, 3, 5 и overkill

Вопросы, комментарии, найденные глюки или советы шлите по адресу:

      rhea@OrangeSmoothie.org

Свежие версии OSP-Q3 регулярно появляются по адресу:

      http://www.OrangeSmoothie.org/beta.html

Пишите на форуме:

      http://www.OrangeSmoothie.org/forum/

Есть IRC-канал: #osp в сети EnterTheGame (irc.enterthegame.com:6667).

Спасибо за то, что играете под OSP,
-Rhea
