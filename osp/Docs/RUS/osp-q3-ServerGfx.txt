Серверная графика OSP
================
14 Декабря 2001
rhea@OrangeSmoothie.org
http://www.OrangeSmoothie.org


OSP Tourney DM/CA/CTF позволяет администраторам сервера 
устанавливать свою картинку для показа игрокам во время 
соединения. Это позволяет кланам или организациям вставлять 
дополнительную графику (лого, реклама и прочее) в игру.

Вышеобозначенные картинки никоим образом не оказывают
влияния на игру, так как показываются только в двух случаях:
     - во время соединения с сервером;
     - в послематчевом экране перед перезагрузкой карты.

Формат и настройки для показа достаточно просты. Итак, вот
что необходимо сделать:

1. Выберите/сделайте картинку. Она должна быть формата 
     targa (.tga) тип 6(?) или 10(?).

2. Назовите эту картинку следующим образом:

        customXX.tga  (где XX цифра от 1 до 16)
 
3. Создайте новый файл .pk3 и добавьте туда картинку в
    директорий

    gfx\2d\

4. Положите получившийся .pk3 в серверную директорию osp/.
     Вы можете назвать этот файл .pk3 любым именем, но с префиксом
     "z-" для устранения конфликта с "sv_pure 1".

5. Установите sv_pure в "1" и  sv_allowDownload в "1" на сервере
    дабы клиенты гарантированно смогли скачать ваш .pk3.

6. Создайте спецификационный файл, в котором указаны
     координаты и размер картинки сначала для экрана при 
     соединении с сервером, а потом для послеигрового экрана:

      x y w h:x y w h

      - x =  X (горизонтальная) координата (отсчет слева)
      - y =  Y (вертикальная) координата (отсчет сверху)
      - w = ширина
      - h = высота

        ----> Примечание: X-координата должна лежать в промежутке 
                 между 0 и 640, Y-координата  - в промежутке от 0 до 480.
                 OSP автоматически масштабирует картинку в зависимости 
                 от разрешения клиентского экрана.

      Как вы уже заметили, в каждой линии координаты/размеры каждого 
      набора разделены ":", а номер картинки соответствует номеру строки,
      определяющей позицию/размер. Иными словами, первая строка 
      предназначена для картинки "custom1.tga", вторая соответственно 
      для "custom2.tga" и так далее.

      Для предотвращения показа картинки задайте "-1" вместо
      каждого параметра "x y w h".

      Вводите только то количество строк, которое точно соответствует
      количеству ваших картинок "customXX.tga" в .pk3.

7. Укажите параметром к переменной "server_gfxspecfile" 
     в серверном конфиге путь и имя вашего спецификационного файла. 

8. Стартуйте сервер и ОППА! Вы в деле.

9. Если из всего этого документа вы ничего не поняли, то в крайнем 
     случае посмотрите на примеры в директории osp/cfg-gfxexample.
     Просто скопируйте эти два файла в директорию osp/  и добавьте 
     такую строку в ваш серверный конфиг:

        set server_gfxspecfile "gfxdef.cfg"

    Теперь клиенты должны видеть в углах экрана 3 дополнительные
    картинки разного размера.