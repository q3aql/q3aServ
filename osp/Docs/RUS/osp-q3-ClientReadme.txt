OSP Tourney DM/CA/CTF для Quake3
================================
Дата:    14 Января 2002
Сайт:     http://www.OrangeSmoothie.org
Адрес:   rhea@OrangeSmoothie.org
Версия:  1.01

В данном документе содержится описание
дополнительных клиентских настроек и опций
для OSP Tourney DM/CA/CTF (далее OSP).


Проблемы с графикой/присоединении к серверу:
===============================
Попробуйте установить com_hunkmegs в 56 или 64 в вашем q3config.cfg,
autoexec.cfg или каком-либо другом клиентском конфигурационном файле,
исполняемом при запуске. В крайнем случае укажите это прямо в командной 
строке: +set com_hunkmegs 56.


Условные обозначения:
-----------------------------
cg_* - Общие клиентские опции.
ch_* - Переменные для настройки клиентского HUD (Head-Up Display - информационная панель).
cf_* - Переменные для настройки (размера) клиентских шрифтов.


Специальные управляющие символы:
========================
Эти управляющие символы могут быть использованы в написании имен игроков,
консольных, командных и MOTD (информационных) сообщениях.

^B и ^b   - делает текст мерцающим 
^F            - текст виден только первую половину секунды
^f             - текст виден только вторую половину секунды
^N            - сбрасывает действие  ^B, ^b, ^F, ^f
^Xrrggbb  - позволяет игроку самому устанавливать цвет, используя
                   шестнадцатиричные (допустимый диапазон: 0 .. 9, A .. F)
                   RGB (Red Green Blue - Красный Зеленый Синий) значения
                   (например, ^XFF0000 - красный, ^X777777 - серый).


Ограничения параметров:
================
Установлены границы у следующих параметров: 

      r_lodcurveerror 	должен  быть "250"
      r_subdivisions		должен быть не больше, чем "80"
      cl_znear		должен быть "4"
      cl_shownormals		должен быть "0"
      cl_showtris		должен быть "0"

Если какая-либо из ваших переменных не отвечает вышеприведенным
значениям, то OSP автоматически сбросит эту переменную в допустимое
значение и выполнит vid_restart. Побочным эффектом данной процедуры
является неоднократная загрузка карты при подсоединении к серверу.

Еще ограничения:

	cg_bobup ограничен в промежутке +/- 0.005
	cg_fov - максимум 140
	cg_zoomFov - максимум 140
	во время игры на ВЫДЕЛЕННОМ сервере cg_thirdperson НЕ будет работать 


Доступные чат-токены:
===============
#A - Armor
	Текущее значение брони (маленькое "a" выведет значение в цвете,
	соответствующем количеству).

#C - Corpse
	Место где вас убили.
	/say_team "Overrun at #C"

#D - Damaged by
	Последний нанесший вам повреждения игрок.
	/say_team "#D is here and he's heavily armed!"

#F - nearest Friend
	Имя ближайшего партнера по игре (в командных играх).

#H - Health
	Текущее значение здоровья (маленькое "h" выведет значение
	в цвете, соответствующем количеству).
	/say_team "Hurting bad - #H/#A"

#I - Item
	Выводит название ближайшего доступного предмета
	(оружие, броня, мега и прочая) включая выброшенные. Внимание,
	этот предмет должен быть в пределах прямой видимости!
	/say_team "#I available here"

#K - ammopacK (ближайший доступный)
	То же, что и #I, но принимаются во внимание только боеприпасы.

#L - Location
	Многие карты имеют общие названия местности, например
	PG на PRO-DM6 показывается как YA. Данный токен выводит
	ближайший спот какого-либо предмета независимо от того, 
	есть ли там предмет в данный момент или нет.

#M - aMmo wanted
	Выводит список всех имеющихся типов боеприпасов если их 
	количество между 0 и 5.
	/say_team "Need #M"

#P - last item Picked up
	Выводит название последнего взятого вами предмета.

#R - health/aRmor (ближайший доступный)
	То же, что и #I, но принимаются во внимание только броня/аптечки.

#T - Target
	Последний игрок, которому вы нанесли повреждения.
	/say_team "#T is weak - finish him!"

#W - current Weapon held
	Выводит аббревиатуру текущего оружия.

#U - powerUps
	Выводит названия всех рулезов на вас.

#W - current Weapon held
	Выводит аббревиатуру вашего текущего оружия.


Клиентские команды:
==============
addstr [результирующая_строка] [исходная_строка]
	Прибавляет [исходную_строку] к [результирующей_строке]
	Только для ProMode.

currenttime
	Выводит текущее время.

menu
	Вызывает встроенное клиентское меню для настройки 
	почти всех дополнительных переменных и опций OSP.
	Поддерживаемые команды (используйте их без кавычек):
		- "menu" для вывода на экран встроенного меню
		- "weapprev" и "weapnext" для передвижения по
		строкам меню соответственно вверх и вниз
		(по умолчанию присвоено клавишам '[' и ']').
		- "menuleft" и "menuright" для выбора какого-либо
		пункта или для уменьшения/увеличения значений
		некоторых переменных в меню.

		Советуется присвоить эти команды для управления меню 
		(weapprev, weapnext, menuleft, menuright и menu)
		неиспользуемым клавишам. Например:
			bind / menu
			bind [ weapprev
			bind ] weapnnext
			bind ";" menuleft
			bind ' menuright

modif[1..5] 
	+modif[1..5] и -modif[1..5] предназначены специально для присваивания
	на клавишу двойных действий, например: 

		set normkeys "bind 1 weapon 1; bind 2 weapon 2"
		set altkeys  "bind 1 say_team nme incoming!; bind 2 say_team base is safe!"
		+modif1 vstr normkeys
		-modif1 vstr altkeys
		bind shift +modif1
	
	Теперь при нажатии на SHIFT выполнится +modif1. А при отпускании
	выполнится последовательность присвоенная -modif1. В этом примере
	нажатие на SHIFT присваивает клавишам "1" и "2" "weapon 1" и "weapon 2"
	соответственно. Когда же SHIFT отпускается, клавишам "1" и "2" присваивается
	"say_team nme incoming!" и "say_team base is safe!" соответственно.

	Таким образом, нажав и отпустив SHIFT, а затем нажав "1",
	вы получите выполненную команду "say_team nme incoming!".
	Нажатие "1" ВО ВРЕМЯ УДЕРЖИВАНИЯ клавиши SHIFT переключит
	текущее оружие на "weapon 1".

	Используйте "\+modif1 ?" для вывода информации о том,
	что присвоено +modif1 в текущий момент.

serverversion
	Выводит текущую версию OSP и все используемые сервером .pk3.
	(команда может быть использована и во время просмотра демки).

+/-actions
	Та же борода, только на манер Q3comp.

	set action1up "bind 1 weapon 1; bind 2 weapon 2"
	set action1down "bind 1 say_team nme incoming!; bind 2 say_team base is safe!"
	bind shift "+action 1"

	Вы можете использовать до 10 вариантов (от 0 до 9).

+fire [оружие_1] [оружие_2] ...
	Указывает последовательность выбирания оружия:

	+fire 5 3

	Если возможно, то переключение и выстрел из RL,
	иначе переключение и выстрел из SG, иначе вообще
	никакого действия. Только для ProMode.

select [оружие_1] [оружие_2] ...
	То же, что и +fire, но переключение без выстрела.

+vstr [скрипт_при_нажатии] [скрипт_при_отпускании]
	Еще один путь для создания полезных оружейных скриптов. Пример:

	set shaft "weapon 6; wait 2; +attack"
	set unfire "-attack"
	bind mouse2 +vstr shaft unfire


Общие клиентские опции:
=====================
cg_altGrenades <0|1> (по умолчанию = 0 - стандартная граната)
      Включает использование альтернативной (более видной)
      модели и раскраски гранаты (банки) от гранатомета.

cg_altLightning <0|1> (по умолчанию = 0 - новый "тонкий" 1.29/promode шафт)
      Включает использование "старой" графики для шафта.

cg_altPlasma <0|1> (по умолчанию = 0 - стандартные шары плазмы)
      Включает использование альтернативной графики для плазмы.

cg_ammoCheck <0|1> (по умолчанию = 0 - запрещена)
      Возможность переключения на оружие, к которому нет боеприпасов.

cg_autoAction <бит-маска> (по умолчанию = 0)
      Автоматическое выполнение нижеприведенных действий.
      Не зависит от серверных настроек!
      <бит-маска>:
             1 - Автоматическая запись в конце матча статистики в текстовый файл.
                  Лог-файл будет выложен в
                  <директорий osp>/stats/<дата>/<имя_файла>.txt
             2 - Автоматическая запись в конце матча образа экрана (скриншота).
             4 - Автоматическая запись игры
                   (требует g_warmup = 0, то есть чтобы все игроки были "ready" для начала матча)
             8 - Автоматическая запись в конце матча статистики по оружию для команды.
           16 - Автоматическая запись в конце матча статистики по оружию для всех игроков.

cg_clientLog <значение> (по умолчанию = 0)
      При не нулевом значении разрешает запись в лог-файл всех
      сообщений во время игры. Управляющие коды обрезаются.
      Для каждого значения пишется файл osp/client_logs/clientX.txt.

cg_Customloc <0|1> (по умолчанию = 0 - запрещено)
      Использование своих собственных файлов локаций из locs/<имя_карты>.cfg.
      Для добавления названия определенной локации на карте наберите в
      нужном месте:

      \addpos <имя_локации>

      Вы можете использовать любые цвета и символы в поле <имя_локации>
      Введенные маркеры будут добавлены в файл locs/<имя_карты>.cfg.
      Названия этих локаций будут использованы из файла при загрузке
      одноименной карты или после \vid_restart.

cg_muzzleFlash <1|0> (по умолчанию = 1 - вспышка отрисовывается)
      Разрешает/запрещает отрисовку вспышки при выстреле.
      Актуально при cg_drawgun > 0.

cg_drawCrosshairNames <0|1|2> (по умолчанию = 1)
      0 - Не выводить.
      1 - Выводить имя игрока при наведении на него прицела.
      2 - Выводить только имена партнеров по команде.

cg_drawDecals <0|1> (по умолчанию = 1 - отображение разрешено)
     Запрещает/разрешает отрисовку рекламных спрайтов на стенах.
     Примечание: они видны во время разминки всем игрокам
     и только наблюдателям во время игры.

cg_enableOSPHUD <0|1> (по умолчанию = 1 - включить специфический OSP HUD)
      Запрещает/разрешает использование osp-информационной панели.

cg_enemyColors <HSL> (по умолчанию = 0000 (белый))
      Устанавливает цвета для вражеских моделей.
      При использовании моделей "pm" (keel/pm):
          R = цвет рельсы (для cg_teamrails 2)
          H = цвет головы/шлема
          S = цвет туловища
          L = цвет ног
      Примечание: значение каждого цвета может быть в промежутках 0-9 и a-z (всего 36).

cg_enemyModel <имя модели> (по умолчанию = "" - не используется)
      Указание модели, которая будет использоваться для отображения
      противника. Если у вас выключено g_forcemodel, то партнеры по команде
      будут отображаться со своими собственными моделями, иначе для всей
      команды будет использована ваша модель.

cg_execVstr <строка> (по умолчанию = "")
      Указывает строку команд, которые будут выполнены после
      присоединения к серверу. OSP выполняет "vstr <строка>".
      Полезно, например, для +zoom скрипта тонкого шафта.

cg_float <0|1> (по умолчанию = 0 - выключен)
      Классный "плавающий" эффект для таблицы результатов.

cg_followkiller <0|1> (по умолчанию = 0 - выключена)
      Возможность автопереключения на убившего наблюдаемого игрока. 
      Полезно для наблюдения за игроком во время дуэли.

cg_followpowerup <0|1> (по умолчанию = 0 - выключена)
      Возможность автоматического переключения на игроков,
      взявших какой-либо рулез (powerup). Флаг имеет высший приоритет.

cg_followviewcam <0|1> (по умолчанию = 1 - следить за определенным игроком)
      Переключение между динамическим (переключающимся на другого игрока
      через какой-то промежуток времени) слежением или просто слежением
      за определенным игроком.

cg_forceColors <0|1> (по умолчанию = 0 - отключена)
      Возможность принудительного отображения партнеров
      по команде в выбранных для себя цветах.

cg_lagometer <0|1|2> (по умолчанию = 1 - внизу справа)
      Отображение в реальном времени состояния соединения.
          0 - Не отображать
          1 - Отображать внизу справа
          2 - Отображать вверху справа

cg_MaxlocationWidth <длина> (по умолчанию = 16)
      Устанавливает максимальную длину в символах
      для вывода названий локаций.

cg_nochatbeep <0|1> (по умолчанию = 0 - включен обычный звуковой сигнал)
      Позволяет клиентам выключать надоедливый звуковой сигнал
      при появлении нового сообщения в консоли.

cg_nomip <бит-маска> (по умолчанию = 0 - графика соответствует r_picmip)
      Позволяет устанавливать графику в r_picmip "1" независимо от текущего r_picmip.
      <бит-маска>:
           1 - Шафт
           2 - Плазма
           4 - Взрывы ракет
           8 - Взрывы гранат
          16 - Пули и фонтанчики от пуль (пулеметик и обрез)
          32 - Рельса
          64 - BFG
         128 - Кровища, хлещущая из врага при попадании в него
         256 - Дымные следы

      Примечание: если у вас включены следы от оружия (marks), то они тоже отображаются 
      как при r_picmip "0" для каждого оружия в соответствии с установленной <бит-маской>.

cg_NoMOTDDisplayDuringDemo <0|1> (по умолчанию = 0)
      0 - Позволяет выводить MOTD во время начала просмотра демки.
      1 - Запещает выводить MOTD во время начала просмотра демки.

cg_oldCTFSounds <0|1> (по умолчанию = 0 - новые звуки CTF)
      Возможность использовать "старые" звуки в играх CTF.
      То есть те звуки, которые были до 1.27 версии.

cg_oldPlasma <0|1> (по умолчанию = 1)
      Выбор между старой плазмой и новой, где от плазмы отлетают частички.

cg_oldRail <0|1> (по умолчанию = 1)
      Выбор между старой рельсой и новой, со спиралью (как в quake2).

cg_oversampleMouse <0|1> - (по умолчанию = 0 - обычный опрос мыши)
      Позволяет клиентам использовать улучшенную технологию опроса мыши.

cg_q3compScoreboard <0|1> (по умолчанию = 0)
      0 - стандартная панель результатов игры
      1 - Q3comp панель (только для TDM, CTF и CA)

cg_scoreTransparency <0.0 - 1.0> (по умолчанию = 1.0)
      Прозрачность панели результатов игры. Чем меньше число, тем прозрачнее.

cg_showPlayerLean <0|1> (по умолчанию = 1 - показывать)
      Позволяет выключать/включать наклоны моделей
      игроков при боковых перемещениях.

cg_statscrolltime <значение> (по умолчанию = 0.15)
      Установка времени задержки в секундах, за которое
      выезжает информационное табло (команда "+wstats").
      При cg_statscrolltime "0" табло показывается мгновенно.

cg_swapSkins <0|1> (по умолчанию = 0 - соответствующий цвет)
      Позволяет изменить цвет моделей команды на противоположный,
      то есть с красного на синий или наоборот.
      Примечание: измения только визуальные!

cg_teamRails <0|1|2> (по умолчанию = 0 - цвет определяется игроком)
      При cg_teamRails "1" у всех игроков одной команды цвет рельсы
      соответствует цвету этой команды. Примечание: работает
      только в командных режимах игры.
      2 - Для партнеров по команде цвет рельсы
            равен значению "R" переменной color1,
            а для соперников равен значению "R"  из cg_enemyColors.

cg_truelightning <0.0 - 1.0> (по умолчанию = 0.0)
      Указывает "лаг" шафта. Значение "0.0" соответствует
      стандартному. Значение "1.0" убирает все запаздывание луча
      шафта (но только для клиента!), и он бьет точно в прицел.
      Таким образом, значение "0.5" есть компромисс между тем,
      что отрисовывается на клиентском экране и тем,
      как на самом деле это выглядит на сервере.

cg_useScreenShotJPEG <0|1> (по умолчанию = 0 - формат .tga)
      Сохранение скриншотов в формате .jpg для команды /autoscreenshot
      или автоматического сохранения.
          0 - Стандартный формат .tga
          1 - Формат .jpg

color1 <RHSL> (по умолчанию = 0000 (белый))
      Установка цвета. При использовании моделей "pm":
          R = цвет следа рельсы (принимается во внимание в любом случае)
          H = цвет головы/шлема
          S = цвет туловища
          L = цвет ног
      Примечание: значение каждого цвета может быть в промежутках 0-9 и a-z (всего 36).

color2 <значение> (по умолчанию = 0)
      Устанавливает цвет диска/спирали рельсы.
      Примечание: значение каждого цвета может быть в промежутках 0-9 и a-z (всего 36).

pmove_fixed <0|1> (по умолчанию = 0 - выключено)
      Позволяет клиенту использовать особую технологию просчета
      его движений, что приводит к возможности делать сложные прыжки
      даже на маломощном компьютере. Примечание: на сервере должно
      быть разрешено исползование pmove_fixed.

s_ambient <0|1> (по умолчанию = 1)
      0 - Запрещает воспроизведение звуков окружающей среды (напр. треск горения факелов)
      1 - Разрешает воспроизведение звуков окружающей среды
      Примечание: При изменении этого значения "на лету" будет автоматически произведен vid_restart.


Настройки клиентского HUD (работают только при cg_enableOSPHUD "1"):
===============================================
ch_3waveFont <0|1> (по умолчанию = 0)
      Включает использование шрифта "3Wave".

ch_ColorLocations <0|1> (по умолчанию = 1)
        Меняет цвет надписи о местоположении игрока на красный или синий
        если в файле локаций для этого места будет найден текст  "Red" или "Blue".

ch_CrosshairColor <строка> (по умолчанию = белый)
      Применение: ch_crosshaircolor 0xRRGGBB или <цвет>
             <цвет>: white, black, red, green, blue,
                             yellow, magenta, cyan, and grey.
      Примечание: при cg_crosshairHealth "1" цветные прицелы работать НЕ будут.

ch_CrosshairNamesLeft <0|1> (по умолчанию = 0 - выключено)
	Если включено, то имена при наведении на игрока
                показываются слева внизу экрана, а не под прицелом.

ch_drawSpeed <0-2> (по умолчанию = 0 - выключено)
	0 - Скорость перемещения игрока не показывается
	1 - Скорость перемещения игрока показывается ниже счетчика времени/fps.
	2 - Скорость перемещения игрока показывается чуть выше прицела.

ch_drawFlagNames <0-5> (по умолчанию = 0)
	0 - стандартно
	1 - отображение имени несущего флаг игрока (без иконки)
	2 - отображение имени несущего флаг игрока с иконкой
	3 - отображение имени несущего флаг игрока (без иконки) в
                      нижнем правом углу (только для Q3comp-информационной панели)
	4 - отображение имени несущего флаг игрока с иконкой в
                      нижнем правом углу (только для Q3comp-информационной панели)

ch_FilterLocationsTeamchat <0|1> (по умолчанию = 1 - включено)
	Фильтрование названий локаций из сообщений партнеров по команде.

ch_InverseTeamChat <0|1> (по умолчанию = 1 - включено)
	Инвертирование окна сообщений партнеров по команде.
                Если включено, то сообщения, поступившие первыми, отображаются сверху.

ch_Obituaries <0|1> (по умолчанию = 1 - включен)
	Вывод в консоль сообщений кто чем и кого убил.

ch_Pickupitem <0|1> (по умолчанию = 1)
	Вывод названия и иконки предмета при поднятии.

ch_StatusbarFormat <0|1> (по умолчанию = 10)
         0 - стандартный
         1 - OSP-шный, где показывается только боеприпасы, иконка текущего оружия, здоровье,
              флаг (для CTF) и броня. Для изменения размера поэкспериментируйте с cf_statusbar.
         2 - то же, что и 1, только еще графически выводится количество боеприпасов к оружию.
         3 - то же, что и 1, только еще выводится количество боеприпасов к оружию.
         4 - CPM вид 0
         5 - CPM с прямоугольниками здоровья/брони
         6 - CPM вид 3
         7 - CPM вид 4
         8 - CPM вид 5
         9 - Q3Comp вид 1
        10 - Q3Comp вид 2
        11 - Q3Comp вид 3
        12 - Q3Comp вид 4

ch_TeamBackground <0|1> (по умолчанию = 0 - выключен)
	Вывод заднего фона под цвет команды для информационной панели.

ch_TeamchatOnly <0|1> (по умолчанию = 0 - выключен)
	Если включен, то сообщения от партнеров по команде
                выводятся в нижней левой половине экрана чуть выше HUD.
	
ch_TeamCrosshairHealth <0|1> (по умолчанию = 1 - включен)
	Показ под прицелом состояния здоровья и брони партнеров по команде.

ch_Teamoverlay <строка> (по умолчанию = "p12n h/aw l")
	Указывает формат вывода в окне информации о партнерах
                по команде (teamoverlay).
                Поля:
	p - иконка рулеза (powerup), располагается слева
	12n - ширина имени и собственно имя игрока
	h - здоровье игрока
	a - броня игрока
	w - иконка оружия
	l - местоположение игрока

ch_Weaponswitch <0-9> (по умолчанию = 2)
	Варианты способов отображения переключения оружия:
	0 - стандартный горизонтальный
	1 - то же, что и 0, только виден постоянно
	2 - вертикально справа
	3 - то же, что и 2, только виден постоянно
	4 - вертикально слева
	5 - то же, что и 4, только виден постоянно плюс показывается количество боеприпасов
	6 - CPM тип, слева
	7 - CPM тип, справа
	8 - CPM тип, снизу
	9 - вообще ничего не отображает (только если вы используете ch_StatusbarFormat "2" или "3")


Настройка размеров шрифта (требуется cg_enableOSPHUD установить в "1"):
=========================================================
Размеры шрифтов устанавливаются указанием необходимой ширины и высоты
в формате "ШИРИНАxВЫСОТА". Например, set cf_Statusbar "24x48" - делает
каждый символ и иконку информационной панели шириной в 24 и высотой в 48 пикселей.
Если значение размера не может быть распознано, то оно сбрасывается в "16x16".

cf_AmmoStatusbar <XxY> (по умолчанию = 8x8)
	Размер шрифта иконок оружия и количества
	патронов при ch_statusbarFormat 2 или 3.

cf_CrosshairNames <XxY> (по умолчанию = 16x16)
	Размер шрифта появляющихся под прицелом имен игроков.

cf_Following <XxY> (по умолчанию = 12x12)
	 Размер шрифта строки "Following ...".

cf_Fragmsg <XxY> (по умолчанию = 16x16)
	Размер шрифта сообщения "You fragged ...".

cf_Scores <XxY> (по умолчанию = 16x16)
	Размер шрифта таблички набранных фрагов в правом нижнем углу HUD.

cf_Pickupstring <XxY> (по умолчанию = 16x16)
	Размер шрифта информационного сообщения, появляющегося при взятии
	какого-либо предмета.

cf_Statusbar <XxY> (по умолчанию = 48x48)
	Масштабирование информационной панели при ch_statusbarFormat 1.

cf_Teamchat <XxY> (по умолчанию = 6x16)
	Размер шрифта сообщений партнеров по команде.

cf_TeamCrosshairHealth <XxY> (по умолчанию = 12x12)
	Размер шрифта появляющейся под прицелом информации
	о количестве "здоровья" партнеров по команде.

cf_Teamoverlay <XxY> (по умолчанию = 7x17)
	Размер шрифта панельки, отображающей информацию о местоположении,
	количестве "здоровья" и текущем оружии партнеров по команде (teamoverlay).

cf_Vote <XxY> (по умолчанию = 12x12)
	Размер шрифта строки голосования.

cf_WeaponName <XxY> (по умолчанию = 12x12)
	Размер шрифта названия оружия при ch_weaponswitch 1.

cf_WeaponSwitch <XxY> (по умолчанию = 32x32)
	Размер иконок оружия.


Обратная связь:
==========
Комментарии, предложения или информацию о найденных
ошибках в OSP шлите по адресу: rhea@OrangeSmoothie.org
или высказывайте на форуме: http://www.orangesmoothie.org/forum
Замечания по переводу шлите по адресу: olzah@quakeshit.com